(()=>{"use strict";var e=document.querySelector(".header"),t=e.offsetHeight;function a(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return n(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var r=0,c=function(){};return{s:c,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,d=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return l=e.done,e},e:function(e){d=!0,o=e},f:function(){try{l||null==a.return||a.return()}finally{if(d)throw o}}}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}window.addEventListener("scroll",function(){window.scrollY>t?e.classList.add("header--scrolled"):e.classList.remove("header--scrolled")}),$(function(){var e,t;e=document.querySelector(".burger"),t=document.querySelector(".header__menu"),e.addEventListener("click",function(){e.classList.toggle("active"),t.classList.toggle("active")}),$("#num-guests-dec").on("click",function(){var e=Number($("#num-guests").val());$("#num-guests").val(Math.max(e-1,1))}),$("#num-guests-inc").on("click",function(){var e=Number($("#num-guests").val());$("#num-guests").val(e+1)});var n=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],r=new Date;function c(e){var t=function(e){var t=new Date(r.getFullYear()+Math.floor((r.getMonth()+e)/12),(r.getMonth()+e)%12,1),a=(t.getDay()-1+7)%7,n=new Date(t);n.setDate(1-a);for(var c=[],o=new Date(n),l=0;l<6;l+=1)for(var d=0;d<7;d+=1){var i=(o.getDay()+6)%7;if(c.push({day:o.getDate(),month:o.getMonth()+1,year:o.getFullYear(),weekDay:i,disabled:o<r,isToday:o<=r&&r<=o}),o.setDate(o.getDate()+1),o.getMonth()>t.getMonth()&&0===i)break}return c}(e),n=$("#calendar table.day-selector tbody");n.empty();var c,o=[],l=a(t);try{for(l.s();!(c=l.n()).done;){var d=c.value,i=d.disabled?["disabled"]:[];d.isToday&&i.push("selected");var s=i.join(" ");if(o.push('\n        <td>\n          <div class="'.concat(s,'"\n               data-year="').concat(d.year,'"\n               data-month="').concat(d.month,'"\n               data-day="').concat(d.day,'">\n            ').concat(d.day,"\n          </div>\n        </td>\n      ")),6==d.weekDay){var u="<tr>"+o.join("")+"</tr>";n.append($(u)),o=[]}}}catch(e){l.e(e)}finally{l.f()}}function o(e,t,n){var r=$("#calendar .time-selector");r.empty();var c,o=a([{time:"17:00",occupied:!1},{time:"17:30",occupied:!0},{time:"18:00",occupied:!1},{time:"18:15",occupied:!1},{time:"18:30",occupied:!1},{time:"18:45",occupied:!1}]);try{for(o.s();!(c=o.n()).done;){var l=c.value,d=l.occupied?"occupied":"";r.append('\n        <button class="'.concat(d,'" data-time="').concat(l.time,'">\n          ').concat(l.time,"\n        </button>\n      "))}}catch(e){o.e(e)}finally{o.f()}}r.setHours(0,0,0,0),function(){for(var e=0;e<3;e+=1){var t=n[(r.getMonth()+e)%12],a=document.createElement("button");a.innerText=t,a.dataset.monthIndex=e,0==e&&a.classList.add("selected"),$("#calendar .month-selector").append(a)}}(),c(0),o(r.getFullYear(),r.getMonth(),r.getDate());var l=null,d=null,i=null;$("#calendar .month-selector button").on("click",function(e){var t=$(e.target);c(t.data("monthIndex")),$("#calendar .month-selector button.selected").removeClass("selected"),t.addClass("selected")}),$("#calendar .day-selector").on("click","td",function(e){var t=$(e.target).closest("td").find("div");if(!t.hasClass("disabled")){$("#calendar .day-selector td .selected").removeClass("selected"),t.addClass("selected"),l=t.data("day"),d=t.data("month"),i=t.data("year");var a=String(l).padStart(2,"0"),n=String(d).padStart(2,"0"),r="".concat(a,".").concat(n,".").concat(i);o(),$("#datetimepicker").val(r)}}),$("#calendar .time-selector").on("click","button",function(e){var t=$(e.target),a=String(l).padStart(2,"0"),n=String(d).padStart(2,"0"),r="".concat(a,".").concat(n,".").concat(i),c=t.data("time");$("#calendar .time-selector button.selected").removeClass("selected"),t.addClass("selected"),$("#datetimepicker").val("".concat(r," ").concat(c))}),$("#datetimepicker").on("click",function(){var e=$("#calendar");window.innerWidth<=480&&(e.addClass("fullscreen-mobile"),document.body.classList.add("no-scroll")),e.fadeIn(200)}),$("#calendar .close").on("click",function(){$("#calendar").removeClass("fullscreen-mobile").fadeOut(200),document.body.classList.remove("no-scroll")})})})();